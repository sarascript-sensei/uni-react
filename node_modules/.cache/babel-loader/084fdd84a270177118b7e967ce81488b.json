{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\uni-react-main\\\\src\\\\components\\\\Cabinets\\\\CreateCabinetComponent.jsx\";\nimport React, { Component } from \"react\";\nimport CabinetService from \"../../services/CabinetService\";\n\nclass CreateCabinetComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.saveOrUpdateCabinet = e => {\n      e.preventDefault();\n      let cabinet = {\n        buildingId: this.props.location.state.buildingId,\n        name: this.state.name,\n        number: this.state.number,\n        floorNumber: this.props.location.state.floorNum,\n        description: this.state.description\n      }; // step 5\n\n      if (this.state.id === null) {\n        CabinetService.createCabinet(cabinet).then(res => {\n          const cabinet = {\n            buildingId: this.props.location.state.buildingId,\n            floorNum: this.props.location.state.floorNum\n          };\n          this.props.history.push({\n            pathname: \"/cabinet\",\n            state: cabinet\n          });\n        });\n      } else {\n        CabinetService.updateCabinet(cabinet, this.state.id).then(res => {\n          console.log(this.props.location);\n          const cabinet = {\n            buildingId: this.props.location.state.buildingId,\n            floorNum: this.props.location.state.floorNum\n          };\n          this.props.history.push({\n            pathname: \"/cabinet\",\n            state: cabinet\n          });\n        });\n      }\n    };\n\n    this.changeNameHandler = event => {\n      this.setState({\n        name: event.target.value\n      });\n      console.log(this.state.name);\n    };\n\n    this.changeNumberHandler = event => {\n      this.setState({\n        number: event.target.value\n      });\n    };\n\n    this.changeStagesHandler = event => {\n      this.setState({\n        stages: event.target.value\n      });\n    };\n\n    this.changeDescriptionHandler = event => {\n      this.setState({\n        description: event.target.value\n      });\n    };\n\n    this.state = {\n      // step 2\n      id: this.props.location.search === \"\" ? null : window.location.search.split(\"?\")[1],\n      name: \"\",\n      number: null,\n      description: \"\",\n      image: []\n    };\n    this.changeNameHandler = this.changeNameHandler.bind(this);\n    this.changeNumberHandler = this.changeNumberHandler.bind(this);\n    this.changeStagesHandler = this.changeStagesHandler.bind(this);\n    this.changeDescriptionHandler = this.changeDescriptionHandler.bind(this);\n    this.saveOrUpdateCabinet = this.saveOrUpdateCabinet.bind(this);\n  } // step 3\n\n\n  componentDidMount() {\n    // step 4\n    if (this.state.id === null) {\n      return;\n    } else {\n      CabinetService.getCabinetById(this.state.id).then(res => {\n        let cabinet = res.data;\n        this.setState({\n          name: cabinet.name,\n          number: cabinet.number,\n          stages: cabinet.stages,\n          description: cabinet.description\n        });\n      });\n    }\n  }\n\n  readFileDataAsBase64(e) {// var bytes = File(e.target.files).readBytes()\n    // // var base64 = Base64.getEncoder().encodeToString(bytes)\n    // // console.log(base64)\n  }\n\n  cancel() {\n    const cabinet = {\n      buildingId: this.props.location.state.buildingId,\n      floorNum: this.props.location.state.floorNum\n    };\n    this.props.history.push({\n      pathname: \"/cabinet\",\n      state: cabinet\n    });\n  }\n\n  getTitle() {\n    if (this.state.id === null) {\n      return /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 14\n        }\n      }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\\u044B\");\n    } else {\n      return /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 14\n        }\n      }, \"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u043A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\\u044B\");\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card col-md-6 offset-md-3 offset-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, this.getTitle(), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }\n    }, \" \\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435: \"), /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",\n      name: \"name\",\n      className: \"form-control\",\n      value: this.state.name,\n      onChange: this.changeNameHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    }, \" \\u041D\\u043E\\u043C\\u0435\\u0440: \"), /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"\\u041D\\u043E\\u043C\\u0435\\u0440\",\n      name: \"number\",\n      className: \"form-control\",\n      value: this.state.number,\n      onChange: this.changeNumberHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }\n    }, \" \\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435: \"), /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\",\n      name: \"description\",\n      className: \"form-control\",\n      value: this.state.description,\n      onChange: this.changeDescriptionHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 23\n      }\n    }, \" \\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F: \"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"image-input\",\n      type: \"file\",\n      multiple: true,\n      onChange: this.readFileDataAsBase64,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: this.saveOrUpdateCabinet,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 19\n      }\n    }, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: this.cancel.bind(this),\n      style: {\n        marginLeft: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 19\n      }\n    }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\")))))));\n  }\n\n}\n\nexport default CreateCabinetComponent;","map":{"version":3,"sources":["C:/Users/User/Desktop/uni-react-main/src/components/Cabinets/CreateCabinetComponent.jsx"],"names":["React","Component","CabinetService","CreateCabinetComponent","constructor","props","saveOrUpdateCabinet","e","preventDefault","cabinet","buildingId","location","state","name","number","floorNumber","floorNum","description","id","createCabinet","then","res","history","push","pathname","updateCabinet","console","log","changeNameHandler","event","setState","target","value","changeNumberHandler","changeStagesHandler","stages","changeDescriptionHandler","search","window","split","image","bind","componentDidMount","getCabinetById","data","readFileDataAsBase64","cancel","getTitle","render","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport CabinetService from \"../../services/CabinetService\";\n\nclass CreateCabinetComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // step 2\n      id:\n        this.props.location.search === \"\"\n          ? null\n          : window.location.search.split(\"?\")[1],\n      name: \"\",\n      number: null,\n      description: \"\",\n      image: [],\n    };\n    this.changeNameHandler = this.changeNameHandler.bind(this);\n    this.changeNumberHandler = this.changeNumberHandler.bind(this);\n    this.changeStagesHandler = this.changeStagesHandler.bind(this);\n    this.changeDescriptionHandler = this.changeDescriptionHandler.bind(this);\n    this.saveOrUpdateCabinet = this.saveOrUpdateCabinet.bind(this);\n  }\n\n  // step 3\n  componentDidMount() {\n    // step 4\n    if (this.state.id === null) {\n      return;\n    } else {\n      CabinetService.getCabinetById(this.state.id).then((res) => {\n        let cabinet = res.data;\n        this.setState({\n          name: cabinet.name,\n          number: cabinet.number,\n          stages: cabinet.stages,\n          description: cabinet.description,\n        });\n      });\n    }\n  }\n  saveOrUpdateCabinet = (e) => {\n    e.preventDefault();\n    let cabinet = {\n      buildingId: this.props.location.state.buildingId,\n      name: this.state.name,\n      number: this.state.number,\n      floorNumber: this.props.location.state.floorNum,\n      description: this.state.description,\n    };\n\n    // step 5\n    if (this.state.id === null) {\n      CabinetService.createCabinet(cabinet).then((res) => {\n        const cabinet = {\n          buildingId: this.props.location.state.buildingId,\n          floorNum: this.props.location.state.floorNum,\n        };\n        this.props.history.push({ pathname: \"/cabinet\", state: cabinet });\n      });\n    } else {\n      CabinetService.updateCabinet(cabinet, this.state.id).then((res) => {\n        console.log(this.props.location);\n        const cabinet = {\n          buildingId: this.props.location.state.buildingId,\n          floorNum: this.props.location.state.floorNum,\n        };\n        this.props.history.push({ pathname: \"/cabinet\", state: cabinet });\n      });\n    }\n  };\n\n  changeNameHandler = (event) => {\n    this.setState({ name: event.target.value });\n    console.log(this.state.name)\n  };\n\n  changeNumberHandler = (event) => {\n    this.setState({ number: event.target.value });\n  };\n\n  changeStagesHandler = (event) => {\n    this.setState({ stages: event.target.value });\n  };\n  changeDescriptionHandler = (event) => {\n    this.setState({ description: event.target.value });\n  };\n  readFileDataAsBase64(e) {\n    // var bytes = File(e.target.files).readBytes()\n    // // var base64 = Base64.getEncoder().encodeToString(bytes)\n    // // console.log(base64)\n}\n  cancel() {\n    const cabinet = {\n      buildingId: this.props.location.state.buildingId,\n      floorNum: this.props.location.state.floorNum,\n    };\n    this.props.history.push({ pathname: \"/cabinet\", state: cabinet});\n  }\n\n  getTitle() {\n    if (this.state.id === null) {\n      return <h3 className=\"text-center\">Добавить кабинеты</h3>;\n    } else {\n      return <h3 className=\"text-center\">Обновить кабинеты</h3>;\n    }\n  }\n  render() {\n    return (\n      <div>\n        <br></br>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"card col-md-6 offset-md-3 offset-md-3\">\n              {this.getTitle()}\n              <div className=\"card-body\">\n                <form>\n                  <div className=\"form-group\">\n                    <label> Название: </label>\n                    <input\n                      placeholder=\"Название\"\n                      name=\"name\"\n                      className=\"form-control\"\n                      value={this.state.name}\n                      onChange={this.changeNameHandler}\n                    />\n                  </div>\n                  <div className=\"form-group\">\n                    <label> Номер: </label>\n                    <input\n                      placeholder=\"Номер\"\n                      name=\"number\"\n                      className=\"form-control\"\n                      value={this.state.number}\n                      onChange={this.changeNumberHandler}\n                    />\n                  </div>\n                  <div className=\"form-group\">\n                    <label> Описание: </label>\n                    <input\n                      placeholder=\"Описание\"\n                      name=\"description\"\n                      className=\"form-control\"\n                      value={this.state.description}\n                      onChange={this.changeDescriptionHandler}\n                    />\n                  </div>\n\n                  <div className=\"form-row\">\n                    <div className=\"form-group\">\n                      <label> Изображения: </label>\n                      <input\n                        className=\"image-input\"\n                        type=\"file\"\n                        multiple\n                        onChange={this.readFileDataAsBase64}\n                      />\n                    </div>\n                  </div>\n                  <button\n                    className=\"btn btn-success\"\n                    onClick={this.saveOrUpdateCabinet}\n                  >\n                    Сохранить\n                  </button>\n                  <button\n                    className=\"btn btn-danger\"\n                    onClick={this.cancel.bind(this)}\n                    style={{ marginLeft: \"10px\" }}\n                  >\n                    Отмена\n                  </button>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CreateCabinetComponent;\n"]},"metadata":{},"sourceType":"module"}