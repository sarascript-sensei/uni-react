{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\uni-react-main\\\\src\\\\components\\\\Building\\\\ListBuildingComponent.jsx\";\nimport React, { Component } from \"react\";\nimport BuildingService from \"../../services/BuildingService\";\nimport { Form } from \"react-bootstrap\";\nimport Select from \"react-select\";\nimport image from \"../../assets/building.png\";\nimport editIcon from \"../../assets/edit.png\";\nimport trashIcon from \"../../assets/trash.png\";\nimport viewIcon from \"../../assets/eye.png\";\nimport \"./building.css\";\nconst options = [{\n  value: \"SERVICE\",\n  label: \"Обслуживаемые\"\n}, {\n  value: \"SELFSERVICE\",\n  label: \"Самообслуживаемые\"\n}];\n\nclass ListBuildingComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      buildings: []\n    };\n    this.addBuilding = this.addBuilding.bind(this);\n    this.editBuilding = this.editBuilding.bind(this);\n    this.deleteBuilding = this.deleteBuilding.bind(this);\n  }\n\n  deleteBuilding(id) {\n    BuildingService.deleteBuilding(id).then(res => {\n      this.setState({\n        buildings: this.state.buildings.filter(building => building.id !== id)\n      });\n    });\n  }\n\n  viewBuilding(id) {\n    this.props.history.push(`/view-building/${id}`);\n  }\n\n  goToFloors(id) {\n    console.log(id);\n    this.props.history.push({\n      pathname: `/floors/`,\n      search: `${id}`\n    });\n  }\n\n  editBuilding(id) {\n    this.props.history.push({\n      pathname: `/add-building/`,\n      search: `${id}`\n    });\n  }\n\n  componentDidMount() {\n    BuildingService.getBuilding().then(res => {\n      this.setState({\n        buildings: res.data\n      });\n    });\n    console.log(this.state);\n  }\n\n  getBuildingbyCategory(id) {\n    BuildingService.getBuildingbyCategori(id).then(res => {\n      this.setState({\n        buildings: this.state.buildings.splice(this.state.buildings.length)\n      });\n      let data = [];\n      data.push(res.data);\n      this.setState({\n        buildings: data\n      });\n    });\n  }\n\n  filerBuilding(value) {\n    this.state.buildings.map(item => {\n      if (item.type === value.target.value) {\n        this.setState({\n          buildings: this.state.buildings.splice(this.state.buildings.length)\n        });\n        let data = [];\n        data.push(item);\n        this.setState({\n          buildings: data\n        });\n      }\n    });\n  }\n\n  addBuilding() {\n    this.props.history.push(\"/add-building/\");\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-center building--title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }, \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0437\\u0434\\u0430\\u043D\\u0438\\u0439\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"building--filter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => {\n        this.getBuildingbyCategory(1);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }, \" \", \"\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u0438\\u0432\\u043D\\u044B\\u0435\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => {\n        this.getBuildingbyCategory(2);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    }, \" \", \"\\u0416\\u0438\\u043B\\u044B\\u0435\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => {\n        this.getBuildingbyCategory(3);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, \" \", \"\\u0418\\u0441\\u0442\\u043E\\u0440\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0435\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      onChange: value => {\n        this.filerBuilding(value);\n      },\n      placeholder: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0442\\u0438\\u043F \\u0437\\u0434\\u0430\\u043D\\u0438\\u044F\",\n      className: \"form-control building--type\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0442\\u0438\\u043F \\u0437\\u0434\\u0430\\u043D\\u0438\\u044F\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: options[0].value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, options[0].label), /*#__PURE__*/React.createElement(\"option\", {\n      value: options[1].value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }, options[1].label)))), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: this.addBuilding,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }\n    }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0434\\u0430\\u043D\\u0438\\u0435\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"article\", {\n      class: \"container mt-5 mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }\n    }, this.state.buildings.map(building => /*#__PURE__*/React.createElement(\"div\", {\n      key: building.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"aside\", {\n      class: \"col-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container mt-5 mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex justify-content-center row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"building--list-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"building--list-block p-2 border rounded\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"building--list-item--img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      class: \"img-fluid img-responsive rounded product-image\",\n      src: image,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"building--list-item--text col-md-6 mt-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"building--list-item--text--info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      onClick: () => this.viewBuilding(building.id),\n      class: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 27\n      }\n    }, building.name), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"text-justify text-truncate para mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 27\n      }\n    }, building.address), /*#__PURE__*/React.createElement(\"p\", {\n      class: \"text-justify text-truncate para mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 27\n      }\n    }, building.description))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"building--list-item--icons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"building--list-item--icons--item\",\n      onClick: () => this.editBuilding(building.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: editIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"building--list-item--icons--item\",\n      onClick: () => this.deleteBuilding(building.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: trashIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"building--list-item--icons--item\",\n      onClick: () => this.viewBuilding(building.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: viewIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 27\n      }\n    })))))))))));\n  }\n\n}\n\nexport default ListBuildingComponent;","map":{"version":3,"sources":["C:/Users/User/Desktop/uni-react-main/src/components/Building/ListBuildingComponent.jsx"],"names":["React","Component","BuildingService","Form","Select","image","editIcon","trashIcon","viewIcon","options","value","label","ListBuildingComponent","constructor","props","state","buildings","addBuilding","bind","editBuilding","deleteBuilding","id","then","res","setState","filter","building","viewBuilding","history","push","goToFloors","console","log","pathname","search","componentDidMount","getBuilding","data","getBuildingbyCategory","getBuildingbyCategori","splice","length","filerBuilding","map","item","type","target","render","name","address","description"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport BuildingService from \"../../services/BuildingService\";\n\nimport { Form } from \"react-bootstrap\";\n\nimport Select from \"react-select\";\n\nimport image from \"../../assets/building.png\";\nimport editIcon from \"../../assets/edit.png\";\nimport trashIcon from \"../../assets/trash.png\";\nimport viewIcon from \"../../assets/eye.png\";\n\nimport \"./building.css\";\n\nconst options = [\n  { value: \"SERVICE\", label: \"Обслуживаемые\" },\n  { value: \"SELFSERVICE\", label: \"Самообслуживаемые\" },\n];\n\nclass ListBuildingComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      buildings: [],\n    };\n    this.addBuilding = this.addBuilding.bind(this);\n    this.editBuilding = this.editBuilding.bind(this);\n    this.deleteBuilding = this.deleteBuilding.bind(this);\n  }\n\n  deleteBuilding(id) {\n    BuildingService.deleteBuilding(id).then((res) => {\n      this.setState({\n        buildings: this.state.buildings.filter(\n          (building) => building.id !== id\n        ),\n      });\n    });\n  }\n  viewBuilding(id) {\n    this.props.history.push(`/view-building/${id}`);\n  }\n  goToFloors(id) {\n    console.log(id);\n    this.props.history.push({ pathname: `/floors/`, search: `${id}` });\n  }\n  editBuilding(id) {\n    this.props.history.push({ pathname: `/add-building/`, search: `${id}` });\n  }\n\n  componentDidMount() {\n    BuildingService.getBuilding().then((res) => {\n      this.setState({ buildings: res.data });\n    });\n    console.log(this.state);\n  }\n\n  getBuildingbyCategory(id) {\n    BuildingService.getBuildingbyCategori(id).then((res) => {\n        this.setState({buildings: (this.state.buildings.splice(this.state.buildings.length))})\n        let data = [];\n        data.push(res.data)\n        this.setState({buildings: data})\n    });\n  }\n\n  filerBuilding(value) {\n    this.state.buildings.map((item) => {\n      if (item.type === value.target.value) {\n        this.setState({buildings: (this.state.buildings.splice(this.state.buildings.length))})\n        let data = [];\n        data.push(item)\n        this.setState({buildings: data})\n      }\n    });\n  }\n\n  addBuilding() {\n    this.props.history.push(\"/add-building/\");\n  }\n\n  render() {\n    return (\n      <div>\n        <h1 className=\"text-center building--title\">Список зданий</h1>\n        <div className=\"building--filter\">\n          <button\n            className=\"btn btn-primary\"\n            onClick={() => {\n              this.getBuildingbyCategory(1);\n            }}\n          >\n            {\" \"}\n            Административные\n          </button>\n          <button\n            className=\"btn btn-primary\"\n            onClick={() => {\n              this.getBuildingbyCategory(2);\n            }}\n          >\n            {\" \"}\n            Жилые\n          </button>\n          <button\n            className=\"btn btn-primary\"\n            onClick={() => {\n              this.getBuildingbyCategory(3);\n            }}\n          >\n            {\" \"}\n            Исторические\n          </button>\n          <div className=\"col-md-4\">\n            {/* <Form.Select\n              onChange={() => {\n                this.filerBuilding();\n              }}\n            >\n              <option>Выберите тип здания</option>\n              <option value={options[0].value}>{options[0].label}</option>\n              <option value={options[1].value}>{options[1].label}</option>\n            </Form.Select> */}\n            <div className=\"form-group\">\n              <select\n                onChange={(value) => {\n                  this.filerBuilding(value);\n                }}\n                placeholder=\"Выберите тип здания\"\n                className=\"form-control building--type\"\n              >\n                <option>Выберите тип здания</option>\n                <option value={options[0].value}>{options[0].label}</option>\n                <option value={options[1].value}>{options[1].label}</option>\n              </select>\n            </div>\n          </div>\n          <button className=\"btn btn-primary\" onClick={this.addBuilding}>\n            Добавить здание\n          </button>\n        </div>\n        <br></br>\n\n        <article class=\"container mt-5 mb-5\">\n          {this.state.buildings.map((building) => (\n            <div key={building.id}>\n              <aside class=\"col-md-3\"></aside>\n              <div class=\"container mt-5 mb-5\">\n                <div class=\"d-flex justify-content-center row\">\n                  <div class=\"building--list-item\">\n                    <div class=\"building--list-block p-2 border rounded\">\n                      <div class=\"building--list-item--img\">\n                        <img\n                          class=\"img-fluid img-responsive rounded product-image\"\n                          src={image}\n                        />\n                      </div>\n                      <div class=\"building--list-item--text col-md-6 mt-1\">\n                        <div class=\"building--list-item--text--info\">\n                          <h3\n                            onClick={() => this.viewBuilding(building.id)}\n                            class=\"\"\n                          >\n                            {building.name}\n                          </h3>\n                          <div class=\"text-justify text-truncate para mb-0\">\n                            {building.address}\n                          </div>\n                          <p class=\"text-justify text-truncate para mb-0\">\n                            {building.description}\n                          </p>\n                        </div>\n                      </div>\n\n                      <div class=\"building--list-item--icons\">\n                        <span\n                          className=\"building--list-item--icons--item\"\n                          onClick={() => this.editBuilding(building.id)}\n                        >\n                          <img src={editIcon} alt=\"\" />\n                        </span>\n                        <span\n                          className=\"building--list-item--icons--item\"\n                          onClick={() => this.deleteBuilding(building.id)}\n                        >\n                          <img src={trashIcon} alt=\"\" />\n                        </span>\n                        <span\n                          className=\"building--list-item--icons--item\"\n                          onClick={() => this.viewBuilding(building.id)}\n                        >\n                          <img src={viewIcon} alt=\"\" />\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </article>\n      </div>\n    );\n  }\n}\n\nexport default ListBuildingComponent;\n"]},"metadata":{},"sourceType":"module"}