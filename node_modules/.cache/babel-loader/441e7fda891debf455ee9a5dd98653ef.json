{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\uni-react-main\\\\src\\\\components\\\\Cabinets\\\\ListCabinetComponent.jsx\";\nimport React, { Component } from 'react';\nimport CabinetService from '../../services/CabinetService';\n\nclass ListCabinetComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.cabinet = {\n      buildingId: this.props.location.state.buildingId,\n      floorNum: this.props.location.state.floorNum\n    };\n    this.state = {\n      cabinet: []\n    };\n    this.addCabinet = this.addCabinet.bind(this);\n    this.editCabinet = this.editCabinet.bind(this);\n    this.deleteCabinet = this.deleteCabinet.bind(this);\n  }\n\n  deleteCabinet(id) {\n    CabinetService.deleteCabinet(id).then(res => {\n      this.setState({\n        cabinet: this.state.cabinet.filter(cabinet => cabinet.id !== id)\n      });\n    });\n  }\n\n  viewCabinet(id) {\n    this.props.history.push({\n      pathname: `/view-cabinet/`,\n      search: `${id}`,\n      state: this.cabinet\n    });\n  }\n\n  editCabinet(id) {\n    this.props.history.push({\n      pathname: `/add-cabinet/`,\n      search: `${id}`,\n      state: this.cabinet\n    });\n  }\n\n  componentDidMount() {\n    CabinetService.getCabinet(this.cabinet).then(res => {\n      this.setState({\n        cabinet: res.data\n      });\n    });\n  }\n\n  addCabinet() {\n    this.props.history.push({\n      pathname: `/add-cabinet/`,\n      state: this.cabinet\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"text-center cabinet--title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 18\n      }\n    }, \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u041A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\\u043E\\u0432\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: this.addCabinet,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }\n    }, \" \\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 18\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-striped table-bordered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 37\n      }\n    }, \" \\u041D\\u043E\\u043C\\u0435\\u0440\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 37\n      }\n    }, \" \\u0424\\u043E\\u0442\\u043E\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 37\n      }\n    }, \" \\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 37\n      }\n    }, \" \\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 29\n      }\n    }, this.state.cabinet.map(cabinet => /*#__PURE__*/React.createElement(\"tr\", {\n      key: cabinet.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 46\n      }\n    }, \" \", cabinet.number, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 46\n      }\n    }, \" \", cabinet.photo, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 46\n      }\n    }, \" \", cabinet.description, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 46\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.editCabinet(cabinet.id),\n      className: \"btn btn-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 50\n      }\n    }, \"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \"), /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        marginLeft: \"10px\"\n      },\n      onClick: () => this.deleteCabinet(cabinet.id),\n      className: \"btn btn-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 50\n      }\n    }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \"), /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        marginLeft: \"10px\"\n      },\n      onClick: () => this.viewCabinet(cabinet.id),\n      className: \"btn btn-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 50\n      }\n    }, \"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u044C \"))))))));\n  }\n\n}\n\nexport default ListCabinetComponent;","map":{"version":3,"sources":["C:/Users/User/Desktop/uni-react-main/src/components/Cabinets/ListCabinetComponent.jsx"],"names":["React","Component","CabinetService","ListCabinetComponent","constructor","props","cabinet","buildingId","location","state","floorNum","addCabinet","bind","editCabinet","deleteCabinet","id","then","res","setState","filter","viewCabinet","history","push","pathname","search","componentDidMount","getCabinet","data","render","map","number","photo","description","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport CabinetService from '../../services/CabinetService'\nclass ListCabinetComponent extends Component {\n    constructor(props) {\n        super(props)\n        this.cabinet = {\n            buildingId: this.props.location.state.buildingId,\n            floorNum: this.props.location.state.floorNum,\n        }\n        this.state = {\n                cabinet: []\n        }\n        this.addCabinet = this.addCabinet.bind(this);\n        this.editCabinet = this.editCabinet.bind(this);\n        this.deleteCabinet = this.deleteCabinet.bind(this);\n    }\n    deleteCabinet(id){\n        CabinetService.deleteCabinet(id).then( res => {\n            this.setState({cabinet: this.state.cabinet.filter(cabinet => cabinet.id !== id)});\n        });\n    }\n    viewCabinet(id){\n        this.props.history.push({pathname: `/view-cabinet/`, search: `${id}`, state: this.cabinet});\n    }\n    editCabinet(id){\n        this.props.history.push({pathname: `/add-cabinet/`, search: `${id}`, state: this.cabinet});\n    }\n    componentDidMount(){\n        CabinetService.getCabinet(this.cabinet).then((res) => {\n            this.setState({ cabinet: res.data});\n\n        });\n    }\n    addCabinet(){\n        this.props.history.push({pathname: `/add-cabinet/`, state: this.cabinet});\n    }\n    \n    render() {\n        return (\n            <div>\n                 <h2 className=\"text-center cabinet--title\">Список Кабинетов</h2>\n                 <div className = \"row\">\n                    <button className=\"btn btn-primary\" onClick={this.addCabinet}> Добавить кабинет</button>\n                 </div>\n                 <br></br>\n                 <div className = \"row\">\n                        <table className = \"table table-striped table-bordered\">\n                            <thead>\n                                <tr>\n                                    <th> Номер</th>\n                                    <th> Фото</th>\n                                    <th> Описание</th>\n                                    <th> Действия</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {\n                                    this.state.cabinet.map(\n                                        cabinet => \n                                        <tr key = {cabinet.id}>\n                                             <td> { cabinet.number} </td>   \n                                             <td> { cabinet.photo} </td> \n                                             <td> { cabinet.description} </td>   \n                                             <td>\n                                                 <button onClick={ () => this.editCabinet(cabinet.id)} className=\"btn btn-info\">Обновить </button>\n                                                 <button style={{marginLeft: \"10px\"}} onClick={ () => this.deleteCabinet(cabinet.id)} className=\"btn btn-danger\">Удалить </button>\n                                                 <button style={{marginLeft: \"10px\"}} onClick={ () => this.viewCabinet(cabinet.id)} className=\"btn btn-info\">Открыть </button>\n                                             </td>\n                                        </tr>\n                                    )\n                                }\n                            </tbody>\n                        </table>\n                 </div>\n            </div>\n        )\n    }\n}\nexport default ListCabinetComponent"]},"metadata":{},"sourceType":"module"}